---
id: 2
link: Terraform
title: Provisioning with Terraform
description: Setup terraform cloud and consume the terraform modules
section: Setup a Cluster
---

import { QuickLinks, QuickLink } from '@components/docs/QuickLinks'

Terraform is a tool for provisioning infrastructure embracing Infrastructure as Code. It supports most of the cloud services out there. Instellar currently provides modules for 2 providers. This guide will show you how to use these providers to provision a cluster. You can choose from the following.

<QuickLinks>
  <QuickLink title="DigitalOcean" description="Use the digitalocean terraform module to setup a cluster" href="/docs/setup-a-cluster/digitalocean/" icon="/docs/digital-ocean/do-logo.png" />
  <QuickLink title="Hetzner" description="Use the hetzner cloud terraform module to setup a cluster" href="/docs/setup-a-cluster/hetzner/" icon="/docs/hetzner/hetzner-logo.png" />
</QuickLinks>

To use these modules you have two choices. You can use terraform from the CLI or you can use terraform cloud. We recommend using terraform cloud it's free and below are instructions on how to sign up.

If you would like to see an overview of the workflow with Terraform Cloud and our Terraform module you can check out this video:

import { YouTube } from '@astro-community/astro-embed-youtube'

<YouTube id="hQK6pcvJOZw" />

## Terraform Cloud

import { Callout } from '@components/Callout'

<Callout title="Sign up to Terraform Cloud">
First you'll need a [terraform cloud account](https://cloud.hashicorp.com/products/terraform) (it's free).
</Callout>

Once you sign up for terraform cloud you'll need to setup an organization and a workspace.

## Repository

Before we begin creating a workspace on terraform cloud let's first create the repository that will host our configuration for creating the infrastructure.

![new github repository](/docs/github/new-repository.png)

We recommend naming the project by the prefixing with `instellar` so you know this is your cluster configuration repo. Then the provider in this case we'll be using `digitalocean` and using a name of stars or some show you like. In this case we'll use `orion`. Coming together to make `instellar-digitalocean-orion`. 

Ultimately you are free to name this however you wish.

## Workspaces

Workspaces are where all your infrastructure state and any other data statuses of terraform runs are going to go. After setting your organization you should see the the create workspace button. Go ahead and click the `Create Workspace`.

![workspaces](/docs/terraform/create-workspace.png)

You will see the following screen. On this screen you'll be able to choose how you setup your workspace. You have a few options to choose from here. Select the `version control workflow`.

![configure workspace](/docs/terraform/new-workspace.png)

In this page you'll select your version control. We'll use github for our setup.

![select vcs](/docs/terraform/select-vcs.png)

Then you'll need to select your repository. If you haven't already authenticated your github account with terraform cloud you will have the opporunity to do so. Click on the `Add another organization` button.

![select vcs](/docs/terraform/select-repository.png)

You'll be prompted to make the connection with your github account. Select the organization you wish to use.

![select organization from github](/docs/github/select-organization.png)

Next you can either grant access to all repositories or select some specific repositories. We recommend being selective.

![select repository from github](/docs/github/select-repository-for-terraform.png)

Once you are happy with your selection simply click `Install`. You'll be taken back to terraform cloud. You should now see your repository listed in terraform cloud UI.

![select repository from terraform](/docs/terraform/select-repository-from-terraform.png)

Once you select you'll see the following form. Click on the advanced options

![new workspace form](/docs/terraform/new-workspace-form.png)

You will need to enter the VCS branch option it should be either `master` or `main` depending on how your repository is configured.

![input vcs branch](/docs/terraform/vcs-branch.png)

Once you entered the branch name go ahead and click `Create workspace`

![workspace created](/docs/terraform/workspace-created.png)

Congratulations! You've created your workspace. Next we will show you how to create your instellar cluster configuration using the terraform module:

- [DigitalOcean](/docs/setup-a-cluster/digitalocean/)
- [Hetzner](/docs/setup-a-cluster/hetzner/)